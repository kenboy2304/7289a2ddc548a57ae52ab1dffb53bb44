@model IEnumerable<DNS.WebAPI.Models.Article>

@{
    ViewBag.Title = "Quản lý trang";
}

<p>
    <a href="@Url.Action("Create")" class=" btn btn-primary btn-sm">Tạo trang</a>
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Publish)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ThumbailUrl)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PublishedDate)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.DateCreated)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Order)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model) {
        <tr>   
            <td>
                @Html.DisplayFor(modelItem => item.Publish)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.ThumbailUrl)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PublishedDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DateCreated)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Order)
            </td>
            <td>
                <a href="@Url.Action("Edit", new {id = item.Id})" class="btn btn-sm btn-primary btn-circle"><i class="fa fa-edit"></i></a>
                <form action="@Url.Action("Delete", new{id = item.Id})" method="POST" data-name="@item.Name" class="btn" >
                    @Html.AntiForgeryToken()
                    <button class="btn btn-sm btn-danger btn-del btn-circle"><i class="fa fa-remove"></i></button>
                </form>
            </td>
        </tr>
    }

</table>

@section scripts
{
    <script type="text/javascript">
        $(function() {
            $("form").on("submit", function() {
                var check = confirm("Bạn chắc chắn muốn xóa '" + $(this).data("name") + "'?");
                return check;
            });
        });
    </script>
}
